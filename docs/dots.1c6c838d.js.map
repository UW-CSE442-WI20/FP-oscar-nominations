{"version":3,"sources":["dots.js"],"names":["width","$","window","selected","height","char_generated","document","getElementById","childElementCount","radius","svg","d3","select","append","attr","lsvg","award","duration_sec","dfe","require","csv","raw_data","awards","map","d","keys","data","unique","sort","x","y","ascending","x_range","i","length","push","scaleOrdinal","domain","range","color","schemeSet1","selectAll","enter","style","text","Tooltip","html","Info_box","mouseover","transition","duration","mousemove","person","movie","mouse","mouseleave","node","call","drag","on","dragstarted","dragged","dragended","doubleclick","simulation","forceSimulation","force","forceX","strength","forceY","forceManyBody","forceCollide","iterations","velocityDecay","nodes","demographic_metrics","demographyMenu","bioLink","movie_IMDB_Link","year_of_award","birthplace","date_of_birth","race_ethnicity","religion","sexual_orientation","rating_bin","runtime_bin","update","stop","choices","each","cb","property","filter","includes","remove","restart","update_demos","event","active","alphaTarget","fx","fy"],"mappings":"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","file":"dots.1c6c838d.js","sourceRoot":"../src","sourcesContent":["// set the dimensions and margins of the graph\r\nvar width =  $(window).width() * 0.65\r\nvar selected = 'race_ethnicity'\r\nvar height = 550\r\nvar char_generated = document.getElementById(\"best_dots\").childElementCount > 0;\r\nvar radius = 4\r\n// append the svg object to the body of the page\r\nvar svg = d3.select(\"#best_dots\")\r\n  .append(\"svg\")\r\n    .attr(\"width\", width)\r\n    .attr(\"height\", 550)\r\n    .attr(\"align\", 'center')\r\nvar lsvg = d3.select(\"#dots_legend\").attr(\"width\", width * 0.2).attr(\"height\", height)\r\nvar award = 'st'\r\nvar duration_sec = 700\r\n\r\nconst dfe = require('./oscar_demos_def.csv');\r\nd3.csv(dfe, function(raw_data) {\r\n\r\n    var awards = d3.map(raw_data, function(d){return d.award;}).keys();\r\n\r\n    data = raw_data\r\n\r\n    var unique = d3.map(raw_data, function(d){return d[selected];}).keys().sort(function(x, y){\r\n       return d3.ascending(x[0], y[0]);\r\n    });\r\n    var x_range = [];\r\n    for (var i = 1; i <= unique.length; i++) {\r\n        x_range.push( width * 0.8 * i / unique.length);\r\n    }\r\n\r\n    // A scale that gives a X target position for each group\r\n    x = d3.scaleOrdinal()\r\n      .domain(unique)\r\n      .range(x_range)\r\n\r\n    // A color scale\r\n    var color = d3.scaleOrdinal()\r\n      .domain(unique)\r\n      .range(d3.schemeSet1)\r\n    lsvg.selectAll(\"dots\")\r\n      .data(unique)\r\n      .enter()\r\n      .append(\"circle\")\r\n        .attr(\"cx\", 30)\r\n        .attr(\"cy\", function(d,i){ return ((height / 2 ) - (unique.length * 15) + 25) + i*25}) // 100 is where the first dot appears. 25 is the distance between dots\r\n        .attr(\"r\", radius)\r\n        .style(\"fill\", function(d){return color(d)})\r\n\r\n    lsvg.selectAll(\"mylabels\")\r\n      .data(unique)\r\n      .enter()\r\n      .append(\"text\")\r\n        .attr(\"x\", 50)\r\n        .attr(\"y\", function(d,i){ return ((height / 2 ) - (unique.length * 15) + 25) + i*25}) // 100 is where the first dot appears. 25 is the distance between dots\r\n        .style(\"fill\", function(d){ return color(d)})\r\n        .text(function(d){ return d})\r\n        .attr(\"text-anchor\", \"left\")\r\n        .style(\"alignment-baseline\", \"middle\")\r\n    var Tooltip = d3.select(\"#best_dots\")\r\n      .append(\"div\")\r\n      .style(\"opacity\", 1)\r\n      .html(\"Hover over a dot for the oscar winner's name and movie!\")\r\n      .attr(\"class\", \"tooltip\")\r\n      .style(\"color\", 'white')\r\n      .style(\"border-width\", \"2px\")\r\n      .style(\"border-radius\", \"5px\")\r\n      .style(\"padding\", \"5px\")\r\n      .attr('align', 'left')\r\n\r\n    var Info_box = d3.select(\"#info_box\")\r\n      .append(\"div\")\r\n      .style(\"opacity\", 1)\r\n      .html(\"Click a dot for more information\")\r\n      .attr(\"class\", \"tooltip\")\r\n      .style(\"border-width\", \"2px\")\r\n      .style(\"border-radius\", \"5px\")\r\n      .style(\"background-color\", \"#2f2f2f\")\r\n      .style(\"padding\", \"15px\")\r\n      .attr('align', 'left')\r\n\r\n    // Three function that change the tooltip when user hover / move / leave a cell\r\n    var mouseover = function(d) {\r\n      Tooltip\r\n        .transition()\r\n        .duration(200)\r\n        .style(\"opacity\", 1)\r\n      d3.select(this)\r\n        .transition()\r\n        .duration(200)\r\n        .attr(\"r\", 2 * radius)\r\n        // .attr(\"stroke\", \"#eca233\")\r\n        .attr(\"stroke\", \"#ffffff\")\r\n        .style(\"stroke-width\", 2)\r\n    }\r\n    var mousemove = function(d) {\r\n      Tooltip\r\n        .html(\"Name: \" + d.person +\"<br>Movie: \"+d.movie)\r\n        .style(\"left\", (d3.mouse(this)[0]+30) + \"px\")\r\n        .style(\"top\", (d3.mouse(this)[1]+30) + \"px\")\r\n    }\r\n    var mouseleave = function(d) {\r\n      Tooltip\r\n        .transition()\r\n        .duration(200)\r\n        .style(\"opacity\", 1)\r\n        .style(\"left\", (d3.mouse(this)[0]+30) + \"px\")\r\n      .style(\"top\", (d3.mouse(this)[1]+30) + \"px\")\r\n      d3.select(this)\r\n        .transition()\r\n        .duration(200)\r\n        .attr(\"r\", radius)\r\n        .style(\"stroke-width\", 0)\r\n    }\r\n\r\n\r\n    // Initialize the circle: all located at the center of the svg area\r\n    var node = svg.append(\"g\")\r\n      .selectAll(\"circle\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"circle\")\r\n        .attr(\"r\", radius)\r\n        // .attr(\"cx\", $(window).width() * 0.66 / unique.length)\r\n        .attr(\"cx\", width / 2)\r\n        .attr(\"cy\", height / 2)\r\n        .style(\"fill\", function(d){ return color(d[selected])})\r\n        .style(\"fill-opacity\", 0.9)\r\n        .attr(\"stroke\", \"#D8A75E\")\r\n        .style(\"stroke-width\", 0)\r\n        .call(d3.drag() // call specific function when circle is dragged\r\n             .on(\"start\", dragstarted)\r\n             .on(\"drag\", dragged)\r\n             .on(\"end\", dragended))\r\n\r\n         .on(\"mouseover\", mouseover)\r\n         .on(\"mousemove\", mousemove)\r\n         .on(\"mouseleave\", mouseleave)\r\n         .on(\"click\", doubleclick);;\r\n\r\n    // Features of the forces applied to the nodes:\r\n    var   simulation = d3.forceSimulation()\r\n          .force(\"x\", d3.forceX().strength(0.054).x( function(d){ return x(d[selected]) } ))\r\n          .force(\"y\", d3.forceY().strength(0.036).y( height/2 ))\r\n          .force(\"charge\", d3.forceManyBody().strength(-3)) // Nodes are attracted one each other of value is > 0\r\n          .force(\"collide\", d3.forceCollide().strength(0.5).radius(1.5 * radius ).iterations(1)) // Force that avoids circle overlapping\r\n          .velocityDecay(0.2)\r\n\r\n    // Apply these forces to the nodes and update their positions.\r\n    // Once the force algorithm is happy with positions ('alpha' value is low enough), simulations will stop.\r\n    simulation\r\n        .nodes(data)\r\n        .on(\"tick\", function(d){\r\n          node\r\n              .attr(\"cx\", function(d){ return d.x; })\r\n              .attr(\"cy\", function(d){ return d.y; })\r\n        });\r\n\r\n    var demographic_metrics = [\r\n      ['race_ethnicity', 'Race'],\r\n      ['sexual_orientation', 'Sexuality'],\r\n      ['religion', 'Religion'],\r\n      ['rating_bin', 'Rating'],\r\n    ]\r\n    var demographyMenu = d3.select(\"#demographyDropdown\")\r\n    demographyMenu\r\n    .append(\"select\")\r\n    .selectAll(\"option\")\r\n        .data(demographic_metrics)\r\n        .enter()\r\n        .append(\"option\")\r\n        .attr(\"value\", function(d){return d[0];})\r\n        .text(function(d){return d[1];})\r\n    function doubleclick(d) {\r\n      Info_box\r\n      .html(\r\n        \"<strong>Name</strong>: <a href = \\\"\" + d.bioLink +  \"\\\" target = _blank> \" + d.person + \"</a><br>\" +\r\n        \"<strong>Movie</strong>: <a href =\\\"\" + d.movie_IMDB_Link + \"\\\" target = _blank> \" + d.movie + \" (\" + (d.year_of_award - 1) + \")</a><br><br>\" +\r\n        \"<strong>Year Awarded</strong>: \" + d.year_of_award + \"<br>\" +\r\n        \"<strong>Birthplace</strong>: \" + d.birthplace + \"<br>\" +\r\n        \"<strong>DOB</strong>: \" + d.date_of_birth + \"<br>\" +\r\n        \"<strong>Race</strong>: \" + d.race_ethnicity + \"<br>\" +\r\n        \"<strong>Religion</strong>: \" + d.religion + \"<br>\" +\r\n        \"<strong>Sexuality</strong>: \" + d.sexual_orientation + \"<br>\"+\r\n        \"<strong>Movie Rating</strong>: \" + d.rating_bin + \"<br>\"+\r\n        \"<strong>Movie Runtime</strong>: \" + d.runtime_bin + \" Hours<br>\"\r\n      )\r\n      .transition()\r\n      .duration(duration_sec)\r\n    }\r\n\r\n    d3.selectAll(\".checkbox\").on(\"change\",update);\r\n      function update(){\r\n        simulation.stop()\r\n\r\n        var choices = [];\r\n                d3.selectAll(\".checkbox\").each(function(d){\r\n                  cb = d3.select(this);\r\n                  if(cb.property(\"checked\")){\r\n                    choices.push(cb.property(\"value\"));\r\n                  }\r\n                });\r\n        data = raw_data.filter(function(d){return choices.includes(d.award);});\r\n\r\n        unique = d3.map(raw_data, function(d){return d[selected];}).keys().sort(function(x, y){\r\n           return d3.ascending(x[0], y[0]);\r\n        });\r\n        x_range = [];\r\n        for (var i = 1; i <= unique.length; i++) {\r\n            x_range.push( (width *0.8*i / (unique.length)));\r\n        }\r\n\r\n        // A scale that gives a X target position for each group\r\n        x = d3.scaleOrdinal()\r\n          .domain(unique)\r\n          .range(x_range)\r\n\r\n        // A color scale\r\n        color = d3.scaleOrdinal()\r\n          .domain(unique)\r\n          .range(d3.schemeSet1)\r\n\r\n          simulation = d3.forceSimulation()\r\n              .force(\"x\", d3.forceX().strength(0.054).x( function(d){ return x(d[selected]) } ))\r\n              .force(\"y\", d3.forceY().strength(0.036).y( height/2 ))\r\n              .force(\"charge\", d3.forceManyBody().strength(-3)) // Nodes are attracted one each other of value is > 0\r\n              .force(\"collide\", d3.forceCollide().strength(0.5).radius(1.5 * radius ).iterations(1)) // Force that avoids circle overlapping\r\n              .velocityDecay(0.2)\r\n\r\n        // A color scale\r\n        color = d3.scaleOrdinal()\r\n          .domain(unique)\r\n          .range(d3.schemeSet1)\r\n\r\n        svg.selectAll(\"circle\")\r\n        // .filter(function(d){return !choices.includes(d.award);})\r\n        .transition()\r\n        .duration(duration_sec)\r\n        .style(\"opacity\", 0).attr(\"r\", 0).remove()\r\n\r\n        // Initialize the circle: all located at the center of the svg area\r\n        node = svg.append(\"g\")\r\n          .selectAll(\"circle\")\r\n          .data(data)\r\n          .enter()\r\n          .append(\"circle\")\r\n            .attr(\"r\", radius)\r\n            // .attr(\"cx\", $(window).width() * 0.66 / unique.length)\r\n            .attr(\"cx\", width / 2)\r\n            .attr(\"cy\", height / 2)\r\n            .style(\"fill\", function(d){ return color(d[selected])})\r\n            .style(\"fill-opacity\", 0.9)\r\n            .call(d3.drag() // call specific function when circle is dragged\r\n                 .on(\"start\", dragstarted)\r\n                 .on(\"drag\", dragged)\r\n                 .on(\"end\", dragended))\r\n             .on(\"mouseover\", mouseover)\r\n             .on(\"mousemove\", mousemove)\r\n             .on(\"mouseleave\", mouseleave)\r\n             .on(\"click\", doubleclick);;\r\n       simulation\r\n           .nodes(data)\r\n           .on(\"tick\", function(d){\r\n             node\r\n                 .attr(\"cx\", function(d){ return d.x; })\r\n                 .attr(\"cy\", function(d){ return d.y; })\r\n           });\r\n        simulation.restart()\r\n      }\r\n\r\n      d3.selectAll(\".demographyDropdown\").on(\"change\", update_demos)\r\n      function update_demos(){\r\n        simulation.stop()\r\n        selected = d3.select(this)\r\n          .select(\"select\")\r\n          .property(\"value\")\r\n        unique = d3.map(raw_data, function(d){return d[selected];}).keys().sort(function(x, y){\r\n           return d3.ascending(x[0], y[0]);\r\n        });\r\n        x_range = [];\r\n        for (var i = 1; i <= unique.length; i++) {\r\n            x_range.push( (width *0.8*i / (unique.length)));\r\n        }\r\n\r\n        // A scale that gives a X target position for each group\r\n        x = d3.scaleOrdinal()\r\n          .domain(unique)\r\n          .range(x_range)\r\n\r\n        // A color scale\r\n        color = d3.scaleOrdinal()\r\n          .domain(unique)\r\n          .range(d3.schemeSet1)\r\n\r\n          simulation = d3.forceSimulation()\r\n              .force(\"x\", d3.forceX().strength(0.054).x( function(d){ return x(d[selected]) } ))\r\n              .force(\"y\", d3.forceY().strength(0.036).y( height/2 ))\r\n              .force(\"charge\", d3.forceManyBody().strength(-3)) // Nodes are attracted one each other of value is > 0\r\n              .force(\"collide\", d3.forceCollide().strength(0.5).radius(1.5 * radius ).iterations(1)) // Force that avoids circle overlapping\r\n              .velocityDecay(0.2)\r\n\r\n          // Apply these forces to the nodes and update their positions.\r\n          // Once the force algorithm is happy with positions ('alpha' value is low enough), simulations will stop.\r\n\r\n        lsvg.selectAll(\"circle\").remove()\r\n        lsvg.selectAll(\"circle\")\r\n          .data(unique)\r\n          .enter()\r\n          .append(\"circle\")\r\n            .attr(\"cx\", 30)\r\n            .attr(\"cy\", function(d,i){ return ((height / 2 ) - (unique.length * 15) + 25) + i*25}) // 100 is where the first dot appears. 25 is the distance between dots\r\n            .attr(\"r\", radius)\r\n            .style(\"fill\", function(d){return color(d)})\r\n\r\n        lsvg.selectAll(\"text\").remove()\r\n        lsvg.selectAll(\"text\")\r\n          .data(unique)\r\n          .enter()\r\n          .append(\"text\")\r\n            .attr(\"x\", 50)\r\n            .attr(\"y\", function(d,i){ return ((height / 2 ) - (unique.length * 15) + 25) + i*25}) // 100 is where the first dot appears. 25 is the distance between dots\r\n            .style(\"fill\", function(d){ return color(d)})\r\n            .text(function(d){ return d})\r\n            .attr(\"text-anchor\", \"left\")\r\n            .style(\"alignment-baseline\", \"middle\")\r\n\r\n        svg.selectAll('circle').transition().duration(duration_sec)\r\n        .style(\"fill\", function(d){ return color(d[selected])})\r\n        .attr(\"x\", function(d){ return x(d[selected])})\r\n        simulation\r\n            .nodes(data)\r\n            .on(\"tick\", function(d){\r\n              node\r\n                  .attr(\"cx\", function(d){ return d.x; })\r\n                  .attr(\"cy\", function(d){ return d.y; })\r\n            });\r\n        simulation.restart()\r\n      }\r\n\r\n      function dragstarted(d) {\r\n        if (!d3.event.active) simulation.alphaTarget(.03).restart();\r\n        d.fx = d.x;\r\n        d.fy = d.y;\r\n      }\r\n      function dragged(d) {\r\n        d.fx = d3.event.x;\r\n        d.fy = d3.event.y;\r\n      }\r\n      function dragended(d) {\r\n        if (!d3.event.active) simulation.alphaTarget(.03);\r\n        d.fx = null;\r\n        d.fy = null;\r\n      }\r\n\r\n  })\r\n"]}